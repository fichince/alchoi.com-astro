---
import CoolBackground from '@src/components/CoolBackground.astro';
import ProjectCarousel from '@src/components/ProjectCarousel.svelte';
import NavbarLayout from '@src/layouts/NavbarLayout.astro';
import { getCollection } from 'astro:content';

const code = await getCollection('code');

---
<NavbarLayout title="Code">
  <main class="tw-container container">
    <h1>
      Websites and applications that I've worked on.
    </h1>
    <section>
      { code.map((item) => {

        return (
          <article>
            <ProjectCarousel project={item} client:load />
          </article>
        );
      })}
    </section>
    <CoolBackground />
  </main>
</NavbarLayout>

<style lang="scss">
  @import "../style/common.scss";

  .container {
    @include fade-in;
    font-family: var(--font-body);

    margin-left: auto;
    margin-right: auto;
    padding: var(--size-fluid-4) 0;

    h1 {
      font-family: var(--font-display);
      font-size: var(--font-size-fluid-1);

      margin: 0 var(--size-fluid-4) var(--size-fluid-4);
      font-weight: bold;
    }
  }
</style>